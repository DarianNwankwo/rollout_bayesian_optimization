#!/bin/bash

# Define an array of experiment configurations for specific test functions
nonmyopic_configurations=(
    # Selected Nonmyopic Experiments for Horizons 0 to 2 wihtout Variance Reduction
    # Horizon 0
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=ackley4d --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=braninhoo --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=bukinn6 --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=easom --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=eggholder --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=goldsteinprice --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=gramacylee --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=hartmann3d --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=holdertable --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=levyn13 --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=mccormick --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=rastrigin4d --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=rosenbrock --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=schwefel3d --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=schwefel4d --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=sixhump --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=styblinskitang2d --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=trid1d --horizon 0"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=trid4d --horizon 0"
    # Horizon 1
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=ackley4d --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=braninhoo --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=bukinn6 --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=easom --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=eggholder --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=goldsteinprice --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=gramacylee --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=hartmann3d --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=holdertable --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=levyn13 --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=mccormick --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=rastrigin4d --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=rosenbrock --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=schwefel3d --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=schwefel4d --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=sixhump --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=styblinskitang2d --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=trid1d --horizon 1"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=trid4d --horizon 1"
    # Horizon 2
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=ackley4d --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=braninhoo --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=bukinn6 --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=easom --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=eggholder --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=goldsteinprice --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=gramacylee --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=hartmann3d --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=holdertable --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=levyn13 --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=mccormick --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=rastrigin4d --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=rosenbrock --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=schwefel3d --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=schwefel4d --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=sixhump --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=styblinskitang2d --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=trid1d --horizon 2"
    "--output-dir=../nonmyopic-longrun-gaps-and-time --optimize --budget 80 --function-name=trid4d --horizon 2"
    # Selected Nonmyopic Experiments with Variance Reduction
    # Horizon 0 with Variance Reduction
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=ackley4d --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=braninhoo --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=bukinn6 --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=easom --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=eggholder --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=goldsteinprice --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=gramacylee --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=hartmann3d --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=holdertable --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=levyn13 --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=mccormick --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=rastrigin4d --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=rosenbrock --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=schwefel3d --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=schwefel4d --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=sixhump --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=styblinskitang2d --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=trid1d --horizon 0"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=trid4d --horizon 0"
    # Horizon 1 with Variance Reduction
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=ackley4d --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=braninhoo --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=bukinn6 --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=easom --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=eggholder --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=goldsteinprice --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=gramacylee --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=hartmann3d --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=holdertable --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=levyn13 --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=mccormick --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=rastrigin4d --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=rosenbrock --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=schwefel3d --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=schwefel4d --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=sixhump --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=styblinskitang2d --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=trid1d --horizon 1"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=trid4d --horizon 1"
    # Horizon 2 with Variance Reduction
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=ackley4d --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=braninhoo --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=bukinn6 --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=easom --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=eggholder --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=goldsteinprice --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=gramacylee --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=hartmann3d --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=holdertable --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=levyn13 --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=mccormick --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=rastrigin4d --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=rosenbrock --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=schwefel3d --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=schwefel4d --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=sixhump --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=styblinskitang2d --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=trid1d --horizon 2"
    "--output-dir=../nonmyopic-longrun-with-variance-reduction-gaps-and-time --optimize --budget 80 --variance-reduction --function-name=trid4d --horizon 2"
)

# Loop over the experiment configurations and run each one in the background
for config in "${nonmyopic_configurations[@]}"; do
  # Run the Julia code in the background with the given configuration and output filename
  julia ../nonmyopic_bayesopt.jl $config &
done
